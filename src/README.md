# User Guide

## Files

**ver.sh** - edit this file before running any Makefile targets. See
epm-helpers script mkver.pl and the Makefile to see how the
env. vars. will be used.

**Makefile** - This is the main file for managing the build and packaging steps.

**epm.inc** - this is the "top" EPM definition file. It includes other files.

**ver-ubuntu18.require** - This defines required package for
ubuntu18. Each OS version may have different required package names.

**patch.dat** - this is the input file for epm-helpers script
patch-epm-list.  Mainly it will remove pseudo root dirs that are not
managed by the davinci-installer package.

**VERSION** - 'make release' will append the version and date stamp to
  this file.

**LICENSE** - GPL license. If you fork and make changes, the changes
should be shared back.

**davinci-rm.sh** - Use this script if you used the installer in the zip file.

**CVS/** - you can ignore this. I still use CVS "local" versioning.

**.cvsignore** - you cna ignore this.

---

## Initial Setup

### Install Dependencies
* Install
[EPM - ESP Package Manager / Software Packaging Tool](https://jimjag.github.io/epm/)
and [https://github.com/jimjag/epm](https://github.com/jimjag/epm)

* Install EPM Helpers. See:
[https://github.com/TurtleEngr/epm-helpers](https://github.com/TurtleEngr/epm-helpers)

### Edit ver.sh

Define these vars:

* **ProdName** - Change if desired.

* **ProdVer** - This must match the version number of the zip file, so
that it matches this pattern for the package:
"DaVinci_Resolve_$(mVer)_Linux"

* **ProdRelServer** - server domain name

* **ProdRelRoot** - top release directory

* **ProdRelCategory** - directory under 'released' or 'development'

These are vars are generated. Run 'make ver.env', then check the
values in ver.env

* **ProdRelDir** - this is generated

* **ProdOS** - this is generated by mkver.pl Run 'make ver.env' to check.

* **ProdArch** - this is generated by mkver.pl Run 'make ver.env' to check.

### Edit Makefile

* Define **mArchive** - the location for the DaVinci_Resolve zip files

* Redefine **mTop** - if you don't like the /opt/resolve for the
location of DaVinci_Resolve. If you change this, you will also need to
update patch.dat

* Change **mDesktopDir** - if the path is not correct.

* Uncoment the **mDVPkg** installer you will be building. The free version
or the studio version.

### Download the latest DaVinci_Resolve zip

From:
[https://www.blackmagicdesign.com/products/davinciresolve/](https://www.blackmagicdesign.com/products/davinciresolve/)

Put the zip file in the mArchive location.

---

## Build It

### make prepare

Make and check for dependencies

### make build

Place all the files to be packaged, in dist/

#### make clean

If build or package fails, you can cleanup dist and other tmp areas.

### make package

Build the package.

### make release

Push the package to your distribution server.  This is your personal
installer. This should not be made "public".

### make dist-clean

Clean up all build files. Only commit the files that are left.
DO NOT commit "built" files.

---

$Header: /repo/public.cvs/app/davinci-installer/github/src/README.md,v 1.2 2021/04/08 07:00:32 bruce Exp $
